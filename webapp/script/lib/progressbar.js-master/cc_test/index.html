<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600,800,900" rel="stylesheet" type="text/css">
  <script type="text/javascript" src='../dist/progressbar.js'></script>
  <style>
  #container {
    margin: 20px;
    width: 200px;
    height: 200px;
    position: relative;
  }
  </style>
</head>

<body>
  <div id="container"></div>
  <script>
  var bar = new ProgressBar.Circle(container, {
    color: 'black',
    // This has to be the same size as the maximum width to
    // prevent clipping
    strokeWidth: 4,
    trailWidth: 1,
    easing: 'easeInOut',
    duration: 200,
    text: {
      autoStyleContainer: false
    },
    from: {
      color: '#aaa',
      width: 1
    },
    to: {
      color: '#333',
      width: 3
    },
    // Set default step function for all animate calls
    step: function(state, circle) {

      circle.path.setAttribute('stroke', state.color);
      circle.path.setAttribute('stroke-width', 3);

      console.log(circle.value());
      var value = Math.round(circle.value()*100);
      if (value === 0) {
        circle.setText('');
      } else {
        circle.setText('加载进度：'+value);
      }

    }
  });
  console.log(bar);
  bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';
  bar.text.style.fontSize = '12px';

  // bar.setText(76);
  bar.animate(0.56);

  setTimeout(function () {
  	bar.animate(1);
  },2000);


  // bar.set(100); // Number from 0.0 to 1.0
  

  // var step = 0.1;
  // var timer = setInterval(function() {
  // 	console.log(step);
  // 	if(step==1){
  // 		clearInterval(timer);
  // 	}
  //   bar.animate(step, {
  //     duration: 0
  //   }, function() {
  //     // 
  //   });
  //   step = step+0.1;
  // }, 100);

  </script>
</body>

</html>
